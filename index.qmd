---
title: "Decision Advocacy Challenge"
subtitle: "Data-Driven Scheduling for Maximum Productivity"
format:
  html: default
execute:
  echo: true
  eval: true
---

# üîß Decision Advocacy Challenge - Patrick's Auto Shop Analysis

## Challenge Overview

**Your Mission:** Create a concise, punchy Quarto document (aim for 1-5 printed pages) that analyzes historical productivity data from Patrick's auto shop network. Your report should give Patrick clear, actionable recommendations he can understand and use. Write it so an auto-mechanic can follow it‚Äîno jargon, no confusion, no boredom. Then render the document to HTML and deploy it via GitHub Pages.

**Key Requirements:**

- **Simplicity:** Patrick is an auto-mechanic, not a statistician. Write so he can understand.
- **Conciseness:** 1-5 printed pages. Get to the point.
- **Beautiful visualizations:** Show all 250 data points clearly.
- **Logical recommendations:** Defensible advice based on the data.
- **Confidence assessment:** Explain uncertainty in plain terms. We only have 250 days of data‚Äîthat's not a lot. Help Patrick understand what ranges of differences he can expect.

## The Business Problem üéØ

Patrick runs a network of 5 auto repair shops. He's been tracking productivity data (number of cars fixed per day) across all shops, along with whether he (the boss) was present at each shop on each day. 

**The Core Question:** When and where should Patrick schedule his presence to maximize productivity and revenue?

**Key Considerations:**

- Patrick can only be at one shop per day
- Different shops may respond differently to his presence
- Revenue depends on number of cars fixed (assume a fixed price per car)
- Historical patterns may not predict future performance perfectly
- Patrick loves visiting his brother who runs Shop 3

::: {.callout-important}
## üéØ The Key Insight: Data-Driven Decision Making

**The problem:** Patrick needs to make scheduling decisions based on data, not intuition. He needs to understand:

- Which shops benefit most from his presence?
- Are there patterns by shop that suggest different strategies?
- What are the revenue and profit implications of different scheduling scenarios?
- How confident can he be in these recommendations?

**Why this matters:** Poor scheduling decisions can lead to:

- Wasted time (Patrick at shops that don't need him)
- Lost revenue (shops that need him but don't get him)

**The connection:** This is a real-world decision problem where data analysis can directly impact business outcomes. Your job is to make the data tell a clear, actionable story.
:::

## The Data üìä

The dataset contains 250 observations of daily productivity across 5 shops:

```{python}
#| echo: false
#| include: false
import pandas as pd

# Load the data
carsDF = pd.read_csv("carsFixed.csv")
```

```{python}
#| label: tbl-data-overview
#| tbl-cap: "Overview of the productivity data"
#| echo: true
carsDF.head(10)
```

**Data Dictionary:**

- `observation`: Observation number (1-250)
- `shopID`: Shop identifier (1-5)
- `boss`: Binary indicator (0 = boss absent, 1 = boss present)
- `carsFixed`: Number of cars fixed that day

```{python}
#| label: tbl-data-summary
#| tbl-cap: "Summary statistics by shop and boss presence"
#| echo: true
summary = carsDF.groupby(['shopID', 'boss'])['carsFixed'].agg(['count', 'mean', 'std', 'min', 'max']).round(2)
summary
```

## Challenge Requirements üìã

### Minimum Requirements for Any Points on Challenge

1. **Create a Quarto Document:** Write a comprehensive quarto markdown file structured as a professional business report. Your final rendered HTML should be a polished, client-ready document that Patrick can use to make decisions. **Important:** Your final rendered HTML should contain only your analysis and recommendations‚Äîall challenge instructions, setup guides, and grading rubrics should be removed from the final report.

2. **Render to HTML:** You must render the quarto markdown file to HTML.

3. **GitHub Repository:** Create a repository named `decAdvocacyChallenge` in your GitHub account. Upload your rendered HTML files to this repository.

4. **GitHub Pages Setup:** The repository should be made the source of your GitHub Pages:
   - Go to your repository settings (click the "Settings" tab in your GitHub repository)
   - Scroll down to the "Pages" section in the left sidebar
   - Under "Source", select "Deploy from a branch"
   - Choose "main" branch and "/ (root)" folder
   - Click "Save"
   - Your site will be available at: `https://[your-username].github.io/decAdvocacyChallenge/`
   - **Note:** It may take a few minutes for the site to become available after enabling Pages

## Getting Started: Repository Setup üöÄ

::: {.callout-important}
## üìÅ Quick Start

**Step 1:** Create a new repository named `decAdvocacyChallenge` in your GitHub account by forking the starter repository at [https://github.com/flyaflya/decAdvocacyChallenge.git](https://github.com/flyaflya/decAdvocacyChallenge.git)

**Step 2:** Clone the repository locally using Cursor (or VS Code)

**Step 3:** The data file `carsFixed.csv` is already included in this repository. The code will load it from the local file.

**Step 4:** You're ready to start! Modify this `index.qmd` file and begin your analysis.
:::

::: {.callout-tip}
## üí° Why This Approach?

**Benefits:**

- **Real-world application:** You're solving an actual business problem
- **Data-driven insights:** Learn to extract actionable insights from data
- **Professional presentation:** Create a report that a real client would use
- **Visual storytelling:** Master the art of data visualization for decision-making
:::

## Grading Rubric üéì

::: {.callout-important}
## üìä What You're Really Being Graded On

**This is a report for Patrick, an auto-mechanic, not a statistics professor.** Your job is to give him clear, actionable advice he can understand and use. Think of this as a brief consultation report‚Äîsomething he can read in 5 minutes and immediately know what to do.

**Report Format:**

- **Conciseness:** Aim for 1-5 printed pages. Patrick is busy‚Äîget to the point quickly.
- **Simplicity:** Write so an auto-mechanic can understand. Avoid jargon. Use plain language.
- **Delete All Challenge Instructions:** Once you've completed your analysis, remove all challenge instructions, setup guides, and grading rubrics from your final rendered HTML. The final report should contain only your analysis, visualizations, and recommendations‚Äînothing else.
- **Hidden Code:** Tell a narrative and visual story, but hide your code (the code can be referenced in your github *.qmd source file if needed).
- **Show All Data Points:** When plotting historical data, display all 250 observations (not just summaries). Use transparency, jitter, or other techniques to handle overlapping points.

**What makes a great report:**

- **Beautiful visualizations:** Clean, clear charts that tell the story at a glance
- **Logical recommendations:** Defensible advice based on the data, not speculation
- **Confidence assessment:** Explain uncertainty in plain terms. What ranges of differences can Patrick expect? How confident can he be? (Remember: we only have 250 days of data‚Äîthat's not a lot.)
- **Punchy and focused:** Don't bore Patrick with unnecessary analysis. Focus on what matters for his decision.

**What we're looking for:** A report Patrick can read, understand, and act on. If he's confused or bored, you've missed the mark.
:::

### What Your Report Should Include

Your report should answer these questions in a clear, concise way:

1. **What does the data show?**

   ```{python}
   #| echo: false
   import pandas as pd
   import matplotlib.pyplot as plt
   import numpy as np

   # Load data
   carsDF = pd.read_csv("carsFixed.csv")

   # Set up colors for boss presence
   color_map = {0: "#1f77b4", 1: "#ff7f0e"}  # blue: boss absent, orange: boss present

   # Separate boss absent and present clouds per shopID using clear separation
   shop_list = sorted(carsDF['shopID'].unique())
   spacing = 2.0    # wider separation between shop clouds
   offset = 0.35    # offset boss absent left, boss present right

   # We'll assign x_plot so that boss absent always on left, boss present always on right for each shop
   x_plot = np.full(len(carsDF), np.nan, dtype=float)
   curr_idx = 0
   for shop in shop_list:
       idx = shop_list.index(shop)
       center = idx * spacing
       # boss absent
       mask0 = (carsDF['shopID'] == shop) & (carsDF['boss'] == 0)
       n0 = mask0.sum()
       x_positions_boss0 = np.random.normal(center - offset, 0.10, n0)
       x_plot[mask0] = x_positions_boss0
       # boss present
       mask1 = (carsDF['shopID'] == shop) & (carsDF['boss'] == 1)
       n1 = mask1.sum()
       x_positions_boss1 = np.random.normal(center + offset, 0.10, n1)
       x_plot[mask1] = x_positions_boss1

   carsDF = carsDF.copy()
   carsDF['x_plot'] = x_plot

   # Assign color and edge for boss present/absent
   carsDF['color'] = carsDF['boss'].map(color_map)
   carsDF['edgecolor'] = np.where(carsDF['boss'] == 1, 'k', '#1f77b4')  # Use black edge for boss present
   carsDF['alpha'] = np.where(carsDF['boss'] == 1, 0.92, 0.7)

   plt.figure(figsize=(11, 6))
   # Plot boss-absent and boss-present clouds per shop, separated
   for boss_val in [0, 1]:
       mask = carsDF['boss'] == boss_val
       plt.scatter(
           carsDF.loc[mask, 'x_plot'],
           carsDF.loc[mask, 'carsFixed'],
           c=carsDF.loc[mask, 'color'],
           edgecolors=carsDF.loc[mask, 'edgecolor'],
           alpha=carsDF.loc[mask, 'alpha'],
           label='Boss Present' if boss_val == 1 else 'Boss Absent',
           s=40,
           zorder=2,
           linewidths=0.5
       )

   # Draw vertical lines to separate shops
   for idx in range(1, len(shop_list)):
       plt.axvline(x=(idx * spacing - spacing/2), color='grey', linestyle='--', alpha=0.2, zorder=1)

   plt.xlabel("Shop")
   plt.ylabel("Cars Fixed per Day")
   plt.title("Shop Productivity: Cars Fixed by Shop & Boss Presence")

   # Set custom x-ticks per shop, at the center
   shop_tick_positions = [i * spacing for i in range(len(shop_list))]
   plt.xticks(shop_tick_positions, [f"Shop {shop}" for shop in shop_list])

   # Custom legend
   import matplotlib.lines as mlines
   legend_elements = [
       mlines.Line2D([], [], color="#1f77b4", marker='o', linestyle='None', markersize=9, label='Boss Absent'),
       mlines.Line2D([], [], color="#ff7f0e", marker='o', markeredgecolor='k', linestyle='None', markersize=9, label='Boss Present')
   ]
   plt.legend(handles=legend_elements, title="Boss Present?", frameon=True)

   plt.tight_layout()
   plt.show()
   ```

   - Which shops benefit most from Patrick's presence? Which don't?


From the chart above, we can see that Shop 3 benefits the least from Patrick's presence -- likely due to his brother working there which acts as a substitute effect for Patrick's presence. 
Shop 4 benefits the most from Patrick's presence. 
2. **What should Patrick do?**

   - Clear, specific recommendations: Which shops should he prioritize? Why?
   - What's the potential financial impact? (Revenue or profit implications)

3. **How confident can Patrick be?**

   - Explain uncertainty in plain terms an auto-mechanic can understand
   - What ranges of differences can he expect? (We only have 250 days‚Äîthat's not a huge sample)
   - What could go wrong? What assumptions are you making?

4. **What does the future look like?**

   - Show at least one visualization of projected outcomes under different scheduling scenarios
   - Help Patrick see the potential impact of following your recommendations

**Remember:** Less is more. A focused, punchy report that Patrick can understand and act on is better than a long, complex analysis that confuses him.

## Technical Implementation Preferences üí°

### Setting Up Your Analysis

- Use `pandas` for data manipulation
- Use `matplotlib` and `seaborn` for visualizations
- Use `numpy` for numerical calculations if needed
- Consider using `scipy` for statistical tests if helpful

### Visualization Preferences

- **Professional Styling:** Use consistent colors, clear labels, readable fonts, and informative titles
- **Show All Points:** When displaying historical data, ensure all 250 observations are visible (use transparency, jitter, or other techniques)
- **Color Coding:** Use consistent color schemes (e.g., one color for boss present, another for boss absent)
- **Interactive Elements:** Consider using plotly for interactive visualizations if helpful (optional)

### Data Loading

The data file `carsFixed.csv` is included in your repository. Load it using pandas:

```python
import pandas as pd
carsDF = pd.read_csv("carsFixed.csv")
```

## Submission Checklist ‚úÖ

**Technical Requirements:**

- [ ] Forked repository `decAdvocacyChallenge` from the starter repository
- [ ] Cloned repository locally using Cursor (or VS Code)
- [ ] Quarto document created with clear narrative (use this `index.qmd` as a starting point)
- [ ] Document rendered to HTML successfully
- [ ] HTML files uploaded to your repository
- [ ] GitHub Pages enabled and working
- [ ] Site accessible at `https://[your-username].github.io/decAdvocacyChallenge/`

**Report Quality Requirements:**

- [ ] **Conciseness:** Report is 1-5 printed pages (not a novel)
- [ ] **Simplicity:** Written so an auto-mechanic can understand (no unnecessary jargon)
- [ ] **Beautiful visualizations:** Clean, clear charts that tell the story with persuasive titles, meaningful labels, and useful annotations.
- [ ] **All 250 data points visible:** Historical data shows all observations, not just summaries (on one of the visualizations)
- [ ] **Logical recommendations:** Defensible advice based on the data
- [ ] **Confidence assessment:** Uncertainty explained in plain terms Patrick can understand
- [ ] **Future scenarios:** At least one visualization showing projected outcomes
- [ ] **Clean final report:** All challenge instructions, setup guides, and grading rubrics removed from final HTML
- [ ] **Hidden code:** Code is hidden in final report (must be in source .qmd file)

### Resources

- **Quarto Markdown:** [quarto.org/docs/authoring/markdown-basics.html](https://quarto.org/docs/authoring/markdown-basics.html)
- **Quarto Documentation:** [quarto.org/docs](https://quarto.org/docs)
- **Python Data Science Handbook:** [jakevdp.github.io/PythonDataScienceHandbook](https://jakevdp.github.io/PythonDataScienceHandbook)
- **Pandas Documentation:** [pandas.pydata.org/docs](https://pandas.pydata.org/docs)
- **Matplotlib Gallery:** [matplotlib.org/stable/gallery](https://matplotlib.org/stable/gallery)
- **Seaborn Tutorial:** [seaborn.pydata.org/tutorial.html](https://seaborn.pydata.org/tutorial.html)

